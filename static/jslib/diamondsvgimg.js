;(function(){


var DiamondImageColorListDefs = [
    ['041B2D', '004E9A'],
    ['004E9A', '428CD4'],
    ['8A5082', '6F5F90'],
    ['6F5F90', '758EB7'],
    ['8A5082', 'FF7B89'],
    ['FF7B89', 'A5CAD2'],
    ['F7D6E0', 'F2B5D4'],
    ['E5C1CD', 'C9BBC8'],
    ['EFF7F6', 'F7D6E0'],
    ['F3DBCF', 'AAC9CE'],
    ['AAC9CE', 'B6B4C2'],
    ['F2B5D4', '7BDFF2'],
    ['7BDFF2', 'B2F7EF'],
    ['85CBCC', 'A7D676'],
    ['daad7b', 'F9E2AE'], // daad7b 土豪金
    ['F9E2AE', 'A8DEE0'],
]
window.DiamondImageColorListDefs = DiamondImageColorListDefs;


var DiamondImageTagSvgPointStuffDatas = [

    /************************ 0 **************************/
    {
        points: [
            /*0 */ '',
            /*1 */ '375,488',
            /*2 */ '375,288',
            /*3 */ '275,288',
            /*4 */ '475,288',
            /*5 */ '175,273',
            /*6 */ '575,273',
            /*7 */ '240,220',
            /*8 */ '510,220',
            /*9 */ '307,213',
            /*10*/ '443,213',
            /*11*/ '307,230',
            /*12*/ '375,230',
            /*13*/ '443,230',
            /*14*/ '334,253',
            /*15*/ '416,253',
        ],
        polygonAndLinearGradient: [
            [ [14,15], [2,14,12,15] ],
            [ [11,12], [11,12,14] ],
            [ [2,4], [2,4,15] ],
            [ [3,2], [2,3,14] ],
            [ [12,13], [12,13,15] ],
            [ [3,11], [3,11,14] ],
            [ [4,13], [4,13,15] ],
            [ [11,7], [7,3,11] ],
            [ [13,8], [8,4,13] ],
            [ [3,5], [5,3,7] ],
            [ [4,6], [4,6,8] ],
            [ [7,8], [7,11,13,8,10,9] ],
            [ [3,2], [3,2,1] ],
            [ [2,4], [2,4,1] ],
            [ [5,1], [5,1,3] ],
            [ [6,1], [1,6,4] ],
        ],
        structureLines: [
            ['polyline', 1,5,7,9,10,8,6,1],
            ['polyline', 1,3,7,11,13,8,4,1],
            ['polyline', 5,3,11,2,13,4,6],
            ['polyline', 1,2,3,12,4,2],
        ],
    },

    /************************ 1 **************************/
    {

        points: [
            /*0 */ '',
            /*1 */ '319,452',
            /*2 */ '303,437',
            /*3 */ '303,266',
            /*4 */ '319,250',
            /*5 */ '432,250',
            /*6 */ '449,266',
            /*7 */ '449,437',
            /*8 */ '432,452',
            /*9 */ '300,492',
            /*10*/ '271,462',
            /*11*/ '271,242',
            /*12*/ '300,212',
            /*13*/ '450,212',
            /*14*/ '479,242',
            /*15*/ '479,462',
            /*16*/ '450,492',
            /*17*/ '288,522',
            /*18*/ '247,480',
            /*19*/ '247,222',
            /*20*/ '288,180',
            /*21*/ '462,180',
            /*22*/ '503,222',
            /*23*/ '503,480',
            /*24*/ '462,522',
            /** */
            /*25*/ '270,350',
            /*26*/ '303,350',
            /*27*/ '270,350',
            /*28*/ '247,350',
            /*29*/ '479,350',
            /*30*/ '449,350',
            /*31*/ '503,350',
            /*32*/ '479,350',
        ],
        polygonAndLinearGradient: [
            [ [3,6], [1,2,3,4,5,6,7,8,1] ],
            [ [11,12], [3,4,12,11] ],
            [ [16,15], [7,8,16,15] ],
            [ [10,9], [1,2,10,9] ],
            [ [13,14], [5,6,14,13] ],
            [ [16,9], [1,8,16,9] ],
            [ [13,12], [4,5,13,12] ],
            [ [25,26], [2,3,11,10] ],
            [ [29,30], [6,7,15,14] ],
            [ [27,28], [10,11,19,18] ],
            [ [31,32], [14,15,23,22] ],
            [ [20,21], [12,13,21,20] ],
            [ [17,24], [9,16,24,17] ],
            [ [19,12], [11,12,20,19] ],
            [ [16,23], [15,16,24,23] ],
            [ [18,9], [9,10,18,17] ],
            [ [13,22], [13,14,22,21] ],
        ],
        structureLines: [
            ['polyline', 1,2,3,4,5,6,7,8,1],
            ['polyline', 9,10,11,12,13,14,15,16,9],
            ['polyline', 17,18,19,20,21,22,23,24,17],
            ['polyline', 17,9,1,2,10,18],
            ['polyline', 19,11,3,4,12,20],
            ['polyline', 21,13,5,6,14,22],
            ['polyline', 23,15,7,8,16,24],
        ],
    },

    /************************ 10 **************************/
    {
        points: [
            /*0 */ '',
            /*1 */ '375,515',
            /*2 */ '328,491',
            /*3 */ '285,350',
            /*4 */ '328,209',
            /*5 */ '375,185',
            /*6 */ '422,209',
            /*7 */ '465,350',
            /*8 */ '422,491',
            /*9 */ '375,450',
            /*10*/ '353,470',
            /*11*/ '397,470',
            /*12*/ '345.5,417',
            /*13*/ '336,350',
            /*14*/ '345.5,283',
            /*15*/ '375,250',
            /*16*/ '353,230',
            /*17*/ '397,230',
            /*18*/ '404.5,283',
            /*19*/ '414,350',
            /*20*/ '404.5,417',
        ],
        polygonAndLinearGradient: [
            [ [13,19], [13,14,15,18,19,20,9,12] ],
            [ [3,13], [3,14,13,12] ],
            [ [7,19], [7,18,19,20] ],
            [ [16,17], [15,16,5,17] ],
            [ [10,11], [9,10,1,11] ],
            [ [14,16], [14,16,15] ],
            [ [18,17], [15,17,18] ],
            [ [12,10], [9,10,12] ],
            [ [20,11], [20,11,9] ],
            [ [6,7], 'M404.5,283 L397,230 L422,209 Q464,260 465,350 z' ],
            [ [7,8], 'M404.5,417 L397,470 L422,491 Q464,440 465,350 z' ],
            [ [4,3], 'M345.5,283 L353,230 L328,209 Q286,260 285,350 z' ],
            [ [3,2], 'M345.5,417 L353,470 L328,491 Q286,440 285,350 z' ],

            [ [5,6], 'M397,230 L375,185 Q400,185 422,209 z' ],
            [ [1,8], 'M397,470 L375,515 Q400,515 422,491 z' ],
            [ [5,4], 'M353,230 L375,185 Q350,185 328,209 z' ],
            [ [1,2], 'M353,470 L375,515 Q350,515 328,491 z' ],
            /* [ [], [] ], */
        ],
        structureLines: [
             `<ellipse class="st16" cx="375" cy="350" rx="90" ry="165"/>`,
            ['polyline', 1,10,13,16,5,17,19,11,1],
            ['polyline', 3,15,7,9,3],
            ['polyline', 2,10,9,11,8],
            ['polyline', 4,16,15,17,6],
            ['polyline', 3,13],
            ['polyline', 7,19],

            /* ['polyline', ], */
        ],

    },

    /************************ 6 **************************/
    {
        points: [
            /*0 */ '',
            /*1 */ '375,524',
            /*2 */ '375,456',
            /*3 */ '188,328',
            /*4 */ '238,316',
            /*5 */ '188,256',
            /*6 */ '238,270',
            /*7 */ '248,184',
            /*8 */ '272,238',
            /*9 */ '330,184',
            /*10*/ '320,238',
            /*11*/ '375,228',
            /*12*/ '375,283',
            /*13*/ '420,184',
            /*14*/ '430,238',
            /*15*/ '502,184',
            /*16*/ '478,238',
            /*17*/ '562,256',
            /*18*/ '512,270',
            /*19*/ '562,328',
            /*20*/ '512,316',
            /*21*/ '504,389',
            /*22*/ '492,337',
            /*23*/ '477,417',
            /*24*/ '424,406',
            /*25*/ '415,482', 
            /*26*/ '402,428',
            /*27*/ '335,482',
            /*28*/ '348,428',
            /*29*/ '273,417',
            /*30*/ '326,406',
            /*31*/ '246,389',
            /*32*/ '258,337',    
        ],
  
        polygonAndLinearGradient: [
            [ [4,20], [2,4,6,8,10,12,14,16,18,20,2] ],
            [ [9,12], [9,10,12,11] ],
            [ [12,13], [11,12,14,13] ],
            [ [7,9], [7,8,10,9] ],
            [ [13,15], [13,14,16,15] ],
            [ [15,18], [15,16,18,17] ],
            [ [7,6], [,5,6,8,7] ],
            [ [5,4], [,3,4,6,5] ],
            [ [17,20], [17,18,20,19] ],
            [ [3,32], [3,4,32,31] ],
            [ [22,19], [19,20,22,21] ],
            [ [31,30], [29,30,32,31] ],
            [ [24,21], [21,22,24,23] ],
            [ [29,28], [27,28,30,29] ],
            [ [26,23], [23,24,26,25] ],
            [ [28,1], [1,2,28,27] ],
            [ [1,26], [1,2,26,25] ],
        ],
        structureLines: [
            ['polyline', 1,3,5,7,9,11,13,15,17,19,1],
            ['polyline', 2,4,6,8,10,12,14,16,18,20,2],
            ['polyline', 1,2,4,3,5,6,8,7,9,10,12,11,13,14,16,15,17,18,20,19],
            ['polyline', 21,22],
            ['polyline', 23,24],
            ['polyline', 25,26],
            ['polyline', 27,28],
            ['polyline', 29,30],
            ['polyline', 31,32],
        ],
    },

    /************************ 8 **************************/
    {

        points: [
            /*0 */ '',
            /*1 */ '180,520',
            /*2 */ '281,344',
            /*3 */ '375,180',
            /*4 */ '469,344',
            /*5 */ '570,520',
            /*6 */ '375,520',
            /*7 */ '255,470',
            /*8 */ '375,260',
            /*9 */ '495,470',
            /*10*/ '375,470',
            /*11*/ '316,364',
            /*12*/ '434,364',
        ],
        polygonAndLinearGradient: [
            [ [11,12], [10,11,12] ],
            [ [8,12], [11,12,8] ],
            [ [9,10], [12,10,9] ],
            [ [7,11,], [10,11,7] ],
            [ [7,10], [7,10,6] ],
            [ [10,9], [10,9,6] ],
            [ [7,11], [7,11,2] ],
            [ [11,8], [11,8,2] ],
            [ [8,12,], [8,12,4] ],
            [ [12,9], [12,9,4] ],
            [ [1,2], [1,2,7] ],
            [ [2,3], [2,3,8] ],
            [ [3,4], [3,4,8] ],
            [ [4,5], [4,5,9] ],
            [ [5,6], [5,6,9] ],
            [ [6,1], [6,1,7] ],
        ],
        structureLines: [
            ['polyline', 1,3,5,1,7,2,8,4,9,6,7,8,9,7],
            ['polyline', 5,9],
            ['polyline', 3,8],
            ['polyline', 6,10,11,2],
            ['polyline', 11,12,4],
            ['polyline', 10,12],
        ],

    },

    /************************ 9 **************************/
    {

        points: [
            /*0 */ '',
            /*1 */ '375,184',
            /*2 */ '429,240',
            /*3 */ '482,357',
            /*4 */ '480,446',
            /*5 */ '443,500',
            /*6 */ '375,520',
            /*7 */ '307,500',
            /*8 */ '270,446',
            /*9 */ '268,357',
            /*10*/ '321,240',
            /*11*/ '375,260',
            /*12*/ '415,307',
            /*13*/ '430,412',
            /*14*/ '375,470',
            /*15*/ '320,412',
            /*16*/ '335,307',
        ],
        polygonAndLinearGradient: [
            [ [15,13], [11,12,13,14,15,16] ],
            [ [9,15], [9,15,16] ],
            [ [3,13], [3,13,12] ],
            [ [10,16], [10,16,11] ],
            [ [5,14], [5,14,13] ],
            [ [2,12], [2,12,11] ],
            [ [7,14], [7,14,15] ],
            [ [1,2], 'M375,260 L375,184 Q408,210 429,240 z'],
            [ [2,3], 'M415,307 L429,240 Q470,298 482,357 z'],
            [ [3,4], 'M430,412 L482,357 Q492,400 480,446 z'],
            [ [13,4],'M430,412 L480,446 Q469,481 443,500 z'],
            [ [5,6], 'M375,470 L443,500 Q416,520 375,520 z'],

            [ [10,1],'M375,260 L375,184 Q342,210 321,240 z'],
            [ [9,16],'M335,307 L321,240 Q280,298 268,357 z'],
            [ [15,8],'M320,412 L268,357 Q258,400 270,446 z'],
            [ [15,7],'M320,412 L270,446 Q281,481 307,500 z'],
            [ [14,7],'M375,470 L307,500 Q334,520 375,520 z'],
        ],
        structureLines: [
            `<path class="st16" d="M375,520c-76.9,0-111.7-54.5-111.7-124c0-69.6,46.9-163.4,111.7-211.8 c64.8,48.4,111.7,142.2,111.7,211.8S451.9,520,375,520z"/>`,
            ['polyline', 11,12,13,14,15,16,11],            
            ['polyline', 14,7,15,9,16,10,11,2,12,3,13,5,14],           
            ['polyline', 1,11],   
            ['polyline', 6,14],   
            ['polyline', 8,15],   
            ['polyline', 4,13], 
        ],

    },

    /************************ 2 **************************/
    {


        points: [
            /*0 */ '',
            /*1 */ '205,350',
            /*2 */ '255,229',
            /*3 */ '375,180',
            /*4 */ '496,231',
            /*5 */ '545,350',
            /*6 */ '495,471',
            /*7 */ '375,520',
            /*8 */ '256,470',
            /*9 */ '251,395',
            /*10*/ '251,305',
            /*11*/ '331,225',
            /*12*/ '419,225',
            /*13*/ '499,305',
            /*14*/ '499,395',
            /*15*/ '419,475',
            /*16*/ '331,475',
            /*17*/ '275,350',
            /*18*/ '305,280',
            /*19*/ '375,248',
            /*20*/ '445,280',
            /*21*/ '475,350',
            /*22*/ '445,420',
            /*23*/ '375,452',
            /*24*/ '305,420',
        ],
        polygonAndLinearGradient: [
            [ [10,14], [17,10,18,11,19,12,20,13,21,14,22,15,23,16,24,9,17] ],
            [ [10,11], [10,2,11,18] ],
            [ [12,13], [12,4,13,20] ],
            [ [14,15], [14,6,15,22] ],
            [ [16,9], [16,8,9,24] ],
            [ [11,12], [11,3,12,19] ],
            [ [21,5], [13,5,14,21] ],
            [ [15,16], [15,7,16,23] ],
            [ [1,17], [9,1,10,17] ],
            [ [1,2], 'M251,305 l-46,44.5 c0,0-2.6-68.5,50-120 L251,305z'], 
            [ [2,3], 'M331,225 l-75.2,4 c0,0,45-50,119.5-49 L331,225z'],
            [ [3,4], 'M419,225 L375,180 c0,0,68.4-4,121,50.5 L419,225z'],
            [ [4,5], 'M499,305 l-3-74.6 c0,0,50.5,46.3,49,120 L499,305z'], 
            [ [5,6], 'M499,395 l46-45 c0,0,4,67-50,121 L499,395z'],
            [ [6,7], 'M419,475 l76-4 c0,0-46.5,50.3-120,49 L419,475z'],               
            [ [7,8], 'M331,475 l44,45 c0,0-68.4,3-119-50 L331,475z'],       
            [ [8,9], 'M251,395 l4.7,75 c0,0-50.4-45-51-120 L251,395z'],     
        ],
        structureLines: [
            '<ellipse  class="st16" cx="375" cy="350" rx="170" ry="170"/>',
            ['polyline', 1,10,2,11,3,12,4,13,5,14,6,15,7,16,8,9,1],
            ['polyline', 17,10,18,11,19,12,20,13,21,14,22,15,23,16,24,9,17],
        ],


    },

    /************************ 13 **************************/
    {

        points: [
            /*0 */ '',
            /*1 */ '375,515',
            /*2 */ '280,350',
            /*3 */ '375,185',
            /*4 */ '470,350',
            /*5 */ '327.5,432.5',
            /*6 */ '327.5,267.5',
            /*7 */ '422.5,267.5',
            /*8 */ '422.5,432.5',
            /*9 */ '375,461.5',
            /*10*/ '307,350',
            /*11*/ '375,238.5',
            /*12*/ '440,350',
            /*13*/ '375,408',
            /*14*/ '340,350',
            /*15*/ '375,294',
            /*16*/ '410,350',
        ],
        polygonAndLinearGradient: [
            [ [14,16], [13,14,15,16] ],
            [ [11,12], [11,12,16,15] ],
            [ [12,9,], [12,9,13,16] ],
            [ [9,10], [9,10,14,13] ],
            [ [10,11], [10,11,15,14] ],
            [ [12,11], [12,11,7] ],
            [ [11,10], [11,10,6] ],
            [ [10,9], [10,9,5] ],
            [ [9,12], [9,12,8] ],
            [ [3,7], [3,7,11] ],
            [ [7,4], [7,4,12] ],
            [ [4,8], [4,8,12] ],
            [ [8,1], [8,1,9] ],
            [ [1,5], [1,5,9] ],
            [ [5,2], [5,2,10] ],
            [ [2,6], [2,6,10] ],
            [ [6,3], [6,3,11] ],
        ],
        structureLines: [
            ['polyline', 1,2,3,4,1],
            ['polyline', 13,14,15,16,13],
            ['polyline', 9,12,11,10,9],
            ['polyline', 1,9,5,10,6,11,7,12,8,9,13],
            ['polyline', 2,14],
            ['polyline', 3,15],
            ['polyline', 4,16],
        ],
    },

    /************************ 14 **************************/
    {



        points: [
            /*0 */ '',
            /*1 */ '284,513',
            /*2 */ '187,350',
            /*3 */ '284,187',
            /*4 */ '466,187',
            /*5 */ '563,350',
            /*6 */ '466,513',
            /*7 */ '375,459.75',
            /*8 */ '284,406.5',
            /*9 */ '284,293.5',
            /*10*/ '375,240.25',
            /*11*/ '466,293.5',
            /*12*/ '466,406.5',
            /*13*/ '420,390',
            /*14*/ '330,390',
            /*15*/ '330,310',
            /*16*/ '420,310',
            /** */
            /*17*/ '284,390',
            /*18*/ '466,390',


        ],
        polygonAndLinearGradient: [
            [ [14,13], [13,14,15,16] ],
            [ [10,15], [9,10,11,16,15] ],
            [ [13,18], [11,12,13,16] ],
            [ [7,14], [12,13,14,8,7] ],
            [ [17,14], [8,9,15,14] ],
            [ [10,9], [10,9,3] ],
            [ [10,11], [10,11,4] ],
            [ [11,12], [11,12,5] ],
            [ [12,7], [12,7,6] ],
            [ [7,8], [7,8,1] ],
            [ [8,9], [8,9,2] ],
            [ [3,4], [3,4,10] ],
            [ [4,5], [4,5,11] ],
            [ [5,6], [5,6,12] ],
            [ [6,1], [6,1,7] ],
            [ [1,2], [1,2,8] ],
            [ [2,3], [2,3,9] ],
        ],
        structureLines: [
            ['polyline', 1,3,5,1,2,4,6,2,3,4,5,6,1],
            ['polyline', 8,14,15,9],
            ['polyline', 12,13,16,11],
            ['polyline', 13,14],
            ['polyline', 15,16],
        ],


    },



]


var hex2nums = function(hex) {
    var size = hex.length;
    var nums = new Array(size);
    for(var i=0; i<size; i++){
        var n = 0
        switch(hex[i]){
            case '0': n = 0; break;
            case '1': n = 1; break;
            case '2': n = 2; break;
            case '3': n = 3; break;
            case '4': n = 4; break;
            case '5': n = 5; break;
            case '6': n = 6; break;
            case '7': n = 7; break;
            case '8': n = 8; break;
            case '9': n = 9; break;
            case 'A': n = 10; break;
            case 'a': n = 10; break;
            case 'B': n = 11; break;
            case 'b': n = 11; break;
            case 'C': n = 12; break;
            case 'c': n = 12; break;
            case 'D': n = 13; break;
            case 'd': n = 13; break;
            case 'E': n = 14; break;
            case 'e': n = 14; break;
            case 'F': n = 15; break;
            case 'f': n = 15; break;
        }
        nums[i] = n;
    }
    return nums
}

/**
 * 获取主色
 */
window.GetDiamondMainColor = function(imgstuffhex, gn) {
    gn = gn || 1
    var ds = DiamondImageColorListDefs
    , hxs = hex2nums(imgstuffhex)
    if(gn==1){
        return ds[hxs[2]]
    }
    var rs = []
    for(var i=2; i<gn+2; i++){
        rs.push(ds[hxs[i]])
    }
    return rs
}

/**
 * 创建 HACD 的可视化svg 图片
 * @param {*} imgstuffhex 
 * @param {*} wdsize 
 * diaitem
 */
var isFirstCreateDiamondImageTagSVG = true
var diaimgsvgidx = 0
function CreateDiamondImageTagSVG(imgstuffhex, wdsize) {
    diaimgsvgidx++;
    var getcolorstops = function(idx) {
        var cls = DiamondImageColorListDefs[idx]
        return `
            <stop offset="0" style="stop-color:#`+cls[0]+`"/>
            <stop offset="1" style="stop-color:#`+cls[1]+`"/>
        `
    }

    if(imgstuffhex.length < 2 + 6 + 11){
        return "<p>error imgstuffhex length<p>"
    }

    /* 开始解析 */

    var stuffnums = hex2nums(imgstuffhex)
    var itemNo = stuffnums[0] * 16 + stuffnums[1]
    //  console.log(imgstuffhex, itemNo)
    if(itemNo > 8) {
        itemNo = 0 // 普通钻石形状
    }
    /* 元素 */
    var stuffobj = DiamondImageTagSvgPointStuffDatas[itemNo]
    var linearGradientTags = ''
    var polygonTags = ''
    function pt(i) {
        return stuffobj.points[i]
    }
    function ptxy(i) {
        var ps = pt(i).split(',')
        return {x: ps[0], y: ps[1]}
    }

    for(var i in stuffobj.polygonAndLinearGradient){
        /* console.log(i) */
        var one = stuffobj.polygonAndLinearGradient[i]
        , il = one[0];
        if(!il.length){
            break
        }
        var ip = one[1]
        , lps = ''
        , svgid = `SVGID_`+diaimgsvgidx+`_`+itemNo+`_`+i
        , structlines = '<g>';
        if(typeof il === 'string') {
            lps = il
        }else{
            var  lp1 = ptxy(il[0])
            , lp2 = ptxy(il[1])
            lps = `x1="`+lp1.x+`" y1="`+lp1.y+`" x2="`+lp2.x+`" y2="`+lp2.y+`"`
        }

        linearGradientTags += `<linearGradient id="`+svgid+`" gradientUnits="userSpaceOnUse" `+lps+` >`
            +getcolorstops(stuffnums[2+parseInt(i)])+`</linearGradient>`;
        if(ip[0] == 'M'){
            polygonTags += `<path style="fill:url(#`+svgid+`);" d="`+ip+`" />`;
        }else if(ip[0] == 'x'){
            polygonTags += `<rect style="fill:url(#`+svgid+`);" `+ip+` />`;
        }else if(ip[0] == 'c'){
            polygonTags += `<ellipse style="fill:url(#`+svgid+`);" `+ip+` />`;
        }else{
            var iplist = ''; 
            for(var a in ip) {
                iplist += pt(ip[a])+' ';
            }
            polygonTags += `<polygon style="fill:url(#`+svgid+`);" points="`+iplist+`" />`;
        }
    }
    /* structureLines */
    for(var x in stuffobj.structureLines){
        var one = stuffobj.structureLines[x];
        if(typeof one === 'string'){
            structlines += one
        }else if(typeof one === 'object'){
            var iplist = ''; 
            for(var a=1; a<one.length; a++) {
                iplist += pt(one[a])+' ';
            }
            polygonTags += `<`+one[0]+` class="st16" points="`+iplist+`" />`;
        }
    }
    structlines += '<g>';
    if(isFirstCreateDiamondImageTagSVG){
        isFirstCreateDiamondImageTagSVG = false;
        var sty = document.createElement('style')
        sty.innerHTML = `svg.dvhip5 .st16{fill:none;stroke:#F5E1DA;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}`;
        document.body.appendChild(sty)
    }
    /* div */
    var divcons = `<svg class="dvhip5" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
        viewBox="125 100 500 500" width="${wdsize}" height="${wdsize}" xml:space="preserve">
        <g>
        `+linearGradientTags+`   
        `+polygonTags+`   
        `+structlines+`   
        <g>
    </svg>`
    /* 成功返回 */
    return divcons;

}

window.CreateDiamondImageTagSVG = CreateDiamondImageTagSVG;




/**
 * 创建 HACD 的可视化svg 图片
 * 满屏查看大图
 */
function closeDiamondImageFullShow(e){
    $id("diabigshow").remove();
    e.stopPropagation();
    return false;
}
window.closeDiamondImageFullShow = closeDiamondImageFullShow;
function CreateDiamondImageTagSVGFullShow(imgstuffhex) {

    var wiw = window.innerWidth
    , wih = window.innerHeight
    ;
    if(wih > wiw) {
        wih = wiw // 取最大的
    }
    // svg tag
    wih -= 40
    var picon = CreateDiamondImageTagSVG(imgstuffhex, wih)

    var html = `<div id="diabigshow" style="position: fixed; z-index: 9999; left: 0; top: 0; background: #ffffff66; width: 100%; height: 100%; text-align: center;">
        <div style="display: inline-block; position: relative; margin-top: 20px; background: #ffffff; box-shadow: 2px 2px 12px #00000099; border-radius: 10px;">
            <div class="close" onclick="closeDiamondImageFullShow(event)" style="position: absolute; color: #000; border-radius: 10px; cursor: pointer; right: 6px; top: 6px; font-size: 40px; height: 40px; width: 40px; line-height: 40px; background: #ddd;">✕</div>
            `+ picon +`
        </div>
    </div>` 

    return html

}


window.CreateDiamondImageTagSVGFullShow = CreateDiamondImageTagSVGFullShow;





/*


function t1() {








var l2 = document.getElementsByTagName("g")[1]
var lists = ''
function gx(o, n){
    return `${n}="${o[n].baseVal.valueAsString}"`
}
for(var i in l2.children) { 
    var one = l2.children[i];
    var tn = one.tagName
    if(tn == 'linearGradient'){
        lists += `\n[ '${gx(one, "x1")} ${gx(one, "x2")} ${gx(one, "y1")} ${gx(one, "y2")}', `
    }else if (tn == 'rect') {
        lists += `'${gx(one, "x")} ${gx(one, "y")} ${gx(one, "width")} ${gx(one, "height")}'],`
    }else if (tn == 'ellipse') {
        lists += `'${gx(one, "cx")} ${gx(one, "cy")} ${gx(one, "rx")} ${gx(one, "ry")}'],`
    }else if (tn == 'polygon') {
        lists += `'${one.getAttribute("points").replace(/\s+/ig, ' ').trimEnd()}'],`
    }else if (tn == 'path') {
        lists += `'${one.getAttribute("d").replace(/\s+/ig, ' ').trimEnd()}'],`
    }
}
// console.log(lists)



}


*/



})();

